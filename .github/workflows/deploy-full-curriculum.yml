name: Deploy ABC Explorer — Full Curriculum (6 Grades × 32 Units × 12 Words = 2304 Words)

on:
  workflow_dispatch:
  push:
    branches: [ main ]

permissions:
  contents: write
  pages: write
  id-token: write

jobs:
  full-curriculum:
    runs-on: ubuntu-latest
    environment:
      name: github-pages
      url: ${{ steps.deploy.outputs.page_url }}

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Cleanup
        run: |
          rm -rf * .github || true
          mkdir -p .github/workflows

      - name: Create content-pack.js (Full 2304 words)
        run: |
          cat > content-pack.js << 'EOF'
          window.ABC_CONTENT_PACK = {
            meta: { name: "ABC Full Curriculum", totalWords: 2304, levels: 6, unitsPerLevel: 32, wordsPerUnit: 12 },
            levels: ["א","ב","ג","ד","ה","ו"],
            levelNames: { "א": "כיתה א'", "ב": "כיתה ב'", "ג": "כיתה ג'", "ד": "כיתה ד'", "ה": "כיתה ה'", "ו": "כיתה ו'" },
            units: {
              "א": {
                1:["hello","hi","bye","yes","no","cat","dog","bird","mom","dad","me","you"],
                2:["red","blue","green","yellow","black","white","pink","orange","brown","purple","big","small"],
                3:["one","two","three","four","five","six","seven","eight","nine","ten","up","down"],
                4:["good","bad","happy","sad","hot","cold","fast","slow","new","old","nice","fun"],
                5:["eat","drink","sleep","play","run","walk","jump","sit","stand","look","come","go"],
                6:["book","pen","ball","toy","bag","box","cup","car","house","tree","sun","moon"],
                7:["apple","banana","milk","water","bread","cake","pizza","ice","soup","egg","fish","meat"],
                8:["hand","head","eye","ear","nose","mouth","foot","leg","arm","hair","face","body"],
                9:["morning","day","night","today","now","here","there","home","school","park","shop","room"],
                10:["I","we","he","she","it","they","my","your","his","her","our","their"],
                11:["and","or","but","with","for","to","in","on","at","by","from","of"],
                12:["can","will","do","make","have","get","put","take","give","help","see","hear"],
                13:["like","love","want","need","know","think","say","tell","ask","show","find","try"],
                14:["table","chair","bed","door","window","wall","floor","room","kitchen","bathroom","garden","yard"],
                15:["shirt","pants","shoes","socks","hat","coat","dress","skirt","jacket","gloves","scarf","belt"],
                16:["rain","snow","wind","cloud","storm","sunny","cold","warm","hot","cool","wet","dry"],
                17:["happy","sad","angry","scared","tired","hungry","thirsty","sick","healthy","strong","weak","brave"],
                18:["read","write","draw","paint","sing","dance","laugh","cry","smile","talk","listen","watch"],
                19:["game","sport","music","art","story","movie","song","picture","photo","color","sound","voice"],
                20:["friend","boy","girl","baby","child","man","woman","person","family","name","age","birthday"],
                21:["bike","bus","car","train","plane","boat","truck","taxi","road","street","bridge","park"],
                22:["doctor","teacher","police","fire","nurse","cook","driver","worker","farmer","student","helper","boss"],
                23:["store","market","bank","hotel","park","zoo","beach","mountain","river","lake","forest","city"],
                24:["money","buy","sell","pay","cost","cheap","expensive","free","rich","poor","save","spend"],
                25:["clean","dirty","wash","brush","soap","towel","bath","shower","comb","mirror","tooth","teeth"],
                26:["cook","bake","boil","fry","cut","mix","pour","serve","taste","smell","sweet","sour"],
                27:["phone","call","talk","text","email","computer","internet","game","video","music","photo","movie"],
                28:["sick","hurt","pain","medicine","bandage","doctor","hospital","nurse","healthy","strong","rest","sleep"],
                29:["gift","party","birthday","cake","candle","balloon","surprise","fun","dance","music","friend","happy"],
                30:["winter","spring","summer","fall","January","February","March","April","May","June","July","August"],
                31:["count","number","add","subtract","multiply","divide","equal","more","less","most","least","half"],
                32:["letter","word","sentence","story","book","read","write","spell","learn","teach","study","know"]
              },
              "ב": {
                1:["animal","elephant","lion","tiger","bear","wolf","fox","rabbit","mouse","snake","frog","butterfly"],
                2:["flower","rose","tree","grass","leaf","garden","plant","grow","water","soil","seed","root"],
                3:["country","city","town","village","street","road","house","building","bridge","tower","castle","church"],
                4:["ocean","sea","river","lake","pond","beach","sand","wave","fish","boat","swim","dive"],
                5:["mountain","hill","valley","forest","desert","cave","rock","stone","earth","sky","star","planet"],
                6:["weather","sunny","cloudy","rainy","snowy","windy","storm","thunder","lightning","rainbow","fog","mist"],
                7:["family","parent","mother","father","sister","brother","grandma","grandpa","aunt","uncle","cousin","relative"],
                8:["school","classroom","teacher","student","lesson","homework","test","grade","learn","study","read","write"],
                9:["food","breakfast","lunch","dinner","snack","hungry","full","delicious","sweet","sour","salty","bitter"],
                10:["clothes","wear","dress","shirt","pants","shoes","hat","coat","warm","cold","clean","dirty"],
                11:["time","hour","minute","second","clock","watch","early","late","fast","slow","begin","end"],
                12:["work","job","office","factory","store","worker","boss","money","earn","buy","sell","pay"],
                13:["health","sick","healthy","doctor","medicine","hospital","hurt","pain","strong","weak","rest","exercise"],
                14:["travel","trip","vacation","visit","go","come","leave","arrive","far","near","map","direction"],
                15:["sport","game","play","team","win","lose","run","jump","throw","catch","kick","hit"],
                16:["music","song","sing","dance","instrument","guitar","piano","drum","loud","quiet","listen","hear"],
                17:["art","draw","paint","picture","color","brush","paper","canvas","beautiful","ugly","create","make"],
                18:["technology","computer","phone","internet","email","website","program","app","digital","modern","new","old"],
                19:["emotion","happy","sad","angry","scared","excited","surprised","calm","nervous","proud","shy","confident"],
                20:["transportation","car","bus","train","plane","bike","walk","drive","fly","fast","slow","traffic","road"],
                21:["communication","talk","speak","say","tell","ask","answer","listen","hear","understand","explain","describe"],
                22:["friendship","friend","buddy","pal","kind","nice","helpful","caring","share","trust","loyal","honest"],
                23:["adventure","explore","discover","journey","trip","exciting","dangerous","brave","careful","safe","risky","fun"],
                24:["science","experiment","discover","learn","study","research","fact","theory","prove","test","result","conclusion"],
                25:["nature","environment","protect","save","clean","pollution","recycle","green","earth","planet","future","care"],
                26:["celebration","party","birthday","holiday","festival","gift","surprise","fun","joy","laugh","smile","dance"],
                27:["problem","solution","solve","fix","help","difficult","easy","challenge","try","succeed","fail","learn"],
                28:["creativity","imagination","idea","think","dream","invent","create","original","unique","special","different","new"],
                29:["responsibility","duty","task","job","work","important","careful","serious","trust","depend","reliable","honest"],
                30:["achievement","success","goal","dream","work","try","practice","improve","better","best","proud","happy"],
                31:["community","neighborhood","neighbor","help","share","cooperate","together","group","team","unite","support","care"],
                32:["future","tomorrow","next","plan","hope","dream","goal","wish","possible","impossible","maybe","probably"]
              },
              "ג": {
                1:["agriculture","farm","farmer","crop","harvest","plant","grow","water","soil","fertilizer","tractor","barn"],
                2:["architecture","building","design","construct","blueprint","foundation","roof","wall","door","window","stairs","elevator"],
                3:["astronomy","space","planet","star","moon","sun","galaxy","universe","telescope","astronaut","rocket","satellite"],
                4:["biology","life","organism","cell","DNA","evolution","species","habitat","ecosystem","food","chain","environment"],
                5:["chemistry","element","atom","molecule","compound","reaction","experiment","laboratory","test","result","formula","equation"],
                6:["democracy","government","vote","election","citizen","rights","freedom","law","justice","equality","liberty","constitution"],
                7:["economics","money","business","trade","market","supply","demand","profit","loss","investment","budget","finance"],
                8:["education","school","university","teacher","student","learn","study","knowledge","skill","degree","diploma","graduate"],
                9:["engineering","design","build","machine","technology","invention","innovation","problem","solution","efficiency","quality","safety"],
                10:["geography","continent","country","capital","population","climate","mountain","river","desert","forest","ocean","island"],
                11:["history","past","ancient","medieval","modern","civilization","culture","tradition","war","peace","empire","revolution"],
                12:["literature","book","novel","poem","story","author","writer","character","plot","theme","symbol","metaphor"],
                13:["mathematics","number","calculation","equation","formula","geometry","algebra","statistics","probability","logic","proof","theorem"],
                14:["medicine","health","disease","treatment","cure","hospital","doctor","nurse","surgery","diagnosis","prescription","recovery"],
                15:["philosophy","wisdom","truth","knowledge","reality","existence","meaning","purpose","ethics","morality","justice","virtue"],
                16:["physics","energy","force","motion","gravity","light","sound","heat","electricity","magnetism","radiation","quantum"],
                17:["psychology","mind","behavior","emotion","personality","memory","learning","intelligence","development","therapy","mental","health"],
                18:["sociology","society","culture","community","group","relationship","interaction","communication","cooperation","conflict","change","progress"],
                19:["anthropology","human","culture","society","tradition","custom","ritual","belief","language","evolution","archaeology","civilization"],
                20:["journalism","news","reporter","newspaper","magazine","television","radio","internet","information","fact","opinion","interview"],
                21:["photography","camera","picture","image","light","shadow","composition","portrait","landscape","digital","film","exhibition"],
                22:["theater","play","actor","actress","stage","audience","performance","drama","comedy","tragedy","script","rehearsal"],
                23:["cinema","movie","film","director","producer","actor","screenplay","camera","editing","special","effects","premiere"],
                24:["music","composer","musician","instrument","orchestra","symphony","concert","rhythm","melody","harmony","note","scale"],
                25:["sculpture","statue","artist","clay","marble","bronze","carve","mold","shape","form","texture","museum"],
                26:["painting","artist","brush","canvas","oil","watercolor","portrait","landscape","abstract","realistic","gallery","exhibition"],
                27:["dance","dancer","choreographer","ballet","jazz","modern","traditional","rhythm","movement","expression","performance","stage"],
                28:["cuisine","chef","recipe","ingredient","cooking","baking","flavor","taste","spice","herb","restaurant","kitchen"],
                29:["fashion","designer","clothing","style","trend","fabric","pattern","color","model","runway","boutique","wardrobe"],
                30:["architecture","architect","design","building","structure","materials","construction","blueprint","foundation","aesthetic","function","space"],
                31:["linguistics","language","grammar","vocabulary","pronunciation","dialect","translation","communication","meaning","structure","evolution","acquisition"],
                32:["ecology","environment","ecosystem","biodiversity","conservation","sustainability","pollution","climate","change","renewable","energy","green"]
              },
              "ד": {
                1:["biodiversity","ecosystem","habitat","species","extinction","conservation","endangered","wildlife","protection","natural","resources","sustainability"],
                2:["biotechnology","genetic","engineering","DNA","cloning","medicine","agriculture","research","innovation","laboratory","experiment","breakthrough"],
                3:["globalization","international","economy","trade","culture","communication","technology","transportation","migration","diversity","cooperation","competition"],
                4:["urbanization","city","population","infrastructure","transportation","housing","pollution","planning","development","migration","services","quality"],
                5:["industrialization","factory","manufacturing","production","automation","technology","worker","efficiency","pollution","economy","society","change"],
                6:["digitalization","computer","internet","software","hardware","data","information","communication","network","artificial","intelligence","virtual"],
                7:["renewable","energy","solar","wind","hydroelectric","nuclear","fossil","fuels","sustainability","environment","climate","change","efficiency"],
                8:["artificial","intelligence","machine","learning","robot","automation","algorithm","data","processing","neural","network","future"],
                9:["space","exploration","astronaut","spacecraft","satellite","planet","moon","mars","universe","galaxy","telescope","discovery"],
                10:["genetic","modification","DNA","gene","therapy","medicine","agriculture","ethics","safety","regulation","benefit","risk"],
                11:["climate","change","global","warming","greenhouse","gases","carbon","emissions","renewable","energy","sustainability","adaptation"],
                12:["social","media","internet","communication","network","platform","content","sharing","privacy","security","influence","impact"],
                13:["cryptocurrency","digital","currency","blockchain","technology","transaction","security","investment","financial","system","innovation","regulation"],
                14:["virtual","reality","augmented","reality","technology","simulation","gaming","education","training","entertainment","experience","immersive"],
                15:["nanotechnology","microscopic","materials","science","medicine","electronics","manufacturing","innovation","research","application","potential","safety"],
                16:["quantum","physics","computing","technology","particle","energy","information","processing","communication","encryption","research","future"],
                17:["sustainable","development","environment","economy","society","balance","resources","future","generations","responsibility","planning","goals"],
                18:["international","relations","diplomacy","treaty","cooperation","conflict","negotiation","peace","security","alliance","organization","agreement"],
                19:["human","rights","freedom","equality","justice","dignity","protection","violation","advocacy","organization","universal","declaration"],
                20:["democratic","participation","citizenship","voting","election","representation","accountability","transparency","civil","society","governance","engagement"],
                21:["cultural","diversity","tradition","heritage","identity","preservation","respect","tolerance","understanding","exchange","dialogue","appreciation"],
                22:["economic","inequality","poverty","wealth","distribution","opportunity","access","social","mobility","justice","development","policy"],
                23:["environmental","protection","conservation","pollution","prevention","restoration","biodiversity","ecosystem","natural","resources","stewardship","responsibility"],
                24:["technological","innovation","research","development","invention","progress","society","impact","benefit","challenge","adaptation","ethics"],
                25:["global","health","disease","prevention","treatment","access","healthcare","system","epidemic","pandemic","cooperation","research"],
                26:["food","security","agriculture","nutrition","production","distribution","access","hunger","sustainability","technology","policy","cooperation"],
                27:["water","resources","conservation","scarcity","pollution","access","sanitation","management","technology","policy","cooperation","sustainability"],
                28:["education","access","quality","literacy","skills","knowledge","development","opportunity","equality","technology","innovation","lifelong"],
                29:["urban","planning","sustainable","cities","infrastructure","transportation","housing","environment","quality","life","smart","technology"],
                30:["disaster","management","prevention","preparedness","response","recovery","risk","reduction","resilience","community","cooperation","international"],
                31:["peace","building","conflict","resolution","reconciliation","justice","security","cooperation","dialogue","understanding","tolerance","respect"],
                32:["future","thinking","innovation","creativity","problem","solving","critical","thinking","collaboration","communication","adaptability","resilience"]
              },
              "ה": {
                1:["philosophical","inquiry","existence","reality","truth","knowledge","wisdom","ethics","morality","consciousness","identity","purpose"],
                2:["scientific","methodology","hypothesis","experiment","observation","analysis","conclusion","theory","validation","peer","review","publication"],
                3:["mathematical","modeling","algorithm","computation","statistics","probability","optimization","analysis","proof","theorem","application","research"],
                4:["literary","analysis","interpretation","symbolism","metaphor","theme","character","development","narrative","structure","style","criticism"],
                5:["historical","perspective","chronology","causation","continuity","change","evidence","source","interpretation","context","significance","legacy"],
                6:["psychological","development","cognition","emotion","personality","behavior","motivation","learning","memory","perception","consciousness","therapy"],
                7:["sociological","analysis","society","culture","institution","group","dynamics","inequality","change","research","method","theory"],
                8:["anthropological","study","human","culture","evolution","archaeology","ethnography","linguistics","kinship","ritual","belief","system"],
                9:["economic","theory","market","mechanism","supply","demand","competition","regulation","policy","development","inequality","sustainability"],
                10:["political","science","government","democracy","authority","power","policy","institution","participation","representation","accountability","legitimacy"],
                11:["international","law","treaty","convention","sovereignty","jurisdiction","human","rights","war","crimes","peacekeeping","arbitration"],
                12:["environmental","science","ecology","climate","biodiversity","pollution","conservation","sustainability","renewable","resources","ecosystem","services"],
                13:["technological","advancement","innovation","research","development","application","impact","society","ethics","regulation","future","implications"],
                14:["medical","research","diagnosis","treatment","prevention","epidemiology","public","health","biotechnology","pharmaceutical","clinical","trials"],
                15:["architectural","design","planning","construction","materials","sustainability","aesthetics","function","space","environment","heritage","preservation"],
                16:["artistic","expression","creativity","interpretation","technique","medium","style","movement","criticism","appreciation","cultural","significance"],
                17:["musical","composition","performance","theory","harmony","rhythm","melody","instrument","genre","tradition","innovation","cultural","exchange"],
                18:["linguistic","analysis","grammar","syntax","semantics","phonetics","morphology","sociolinguistics","psycholinguistics","translation","interpretation","communication"],
                19:["philosophical","ethics","moral","reasoning","virtue","consequentialism","deontology","applied","ethics","bioethics","environmental","ethics"],
                20:["critical","thinking","analysis","evaluation","reasoning","logic","argument","evidence","bias","fallacy","problem","solving"],
                21:["creative","problem","solving","innovation","design","thinking","brainstorming","collaboration","experimentation","iteration","evaluation","implementation"],
                22:["intercultural","communication","diversity","understanding","respect","tolerance","dialogue","exchange","competence","sensitivity","adaptation","global"],
                23:["sustainable","living","environment","responsibility","conservation","renewable","energy","waste","reduction","ethical","consumption","lifestyle"],
                24:["digital","literacy","technology","skills","information","evaluation","online","safety","privacy","ethics","communication","collaboration"],
                25:["global","citizenship","awareness","responsibility","action","human","rights","social","justice","environmental","protection","cultural","understanding"],
                26:["lifelong","learning","adaptation","skill","development","knowledge","acquisition","personal","growth","professional","development","continuous","improvement"],
                27:["emotional","intelligence","self","awareness","empathy","social","skills","relationship","management","stress","management","resilience","wellbeing"],
                28:["leadership","influence","motivation","vision","communication","decision","making","team","building","conflict","resolution","change","management"],
                29:["entrepreneurship","innovation","opportunity","recognition","risk","taking","resource","management","value","creation","market","analysis"],
                30:["research","methodology","quantitative","qualitative","data","collection","analysis","interpretation","validity","reliability","ethics","publication"],
                31:["project","management","planning","organization","coordination","execution","monitoring","evaluation","risk","management","stakeholder","communication"],
                32:["quality","assurance","standards","evaluation","improvement","excellence","accountability","transparency","customer","satisfaction","continuous","development"]
              },
              "ו": {
                1:["epistemological","foundations","knowledge","acquisition","justification","skepticism","empiricism","rationalism","constructivism","phenomenology","hermeneutics","interpretation"],
                2:["methodological","frameworks","research","paradigm","quantitative","qualitative","mixed","methods","validity","reliability","triangulation","generalizability"],
                3:["theoretical","perspectives","conceptual","models","hypothesis","testing","paradigm","shift","interdisciplinary","synthesis","meta","analysis"],
                4:["analytical","reasoning","logical","argumentation","critical","evaluation","systematic","inquiry","evidence","based","conclusions","peer","review"],
                5:["synthesized","knowledge","integration","multidisciplinary","approach","holistic","understanding","complex","systems","emergent","properties","interconnectedness"],
                6:["innovative","solutions","creative","problem","solving","design","thinking","prototype","development","iteration","testing","implementation","scaling"],
                7:["collaborative","research","international","cooperation","knowledge","sharing","joint","ventures","cross","cultural","exchange","global","networks"],
                8:["ethical","considerations","research","integrity","informed","consent","confidentiality","beneficence","non","maleficence","justice","transparency"],
                9:["technological","integration","digital","transformation","artificial","intelligence","machine","learning","automation","human","computer","interaction"],
                10:["sustainable","development","environmental","stewardship","social","responsibility","economic","viability","intergenerational","equity","planetary","boundaries"],
                11:["global","governance","international","cooperation","multilateral","agreements","transnational","challenges","collective","action","shared","responsibility"],
                12:["cultural","preservation","heritage","conservation","traditional","knowledge","indigenous","wisdom","cultural","diversity","intangible","assets"],
                13:["educational","transformation","pedagogical","innovation","personalized","learning","competency","based","assessment","lifelong","skill","development"],
                14:["healthcare","advancement","precision","medicine","preventive","care","health","equity","access","quality","patient","centered","outcomes"],
                15:["economic","sustainability","circular","economy","resource","efficiency","inclusive","growth","social","enterprise","impact","investment"],
                16:["social","innovation","community","empowerment","participatory","development","grassroots","initiatives","social","entrepreneurship","collective","impact"],
                17:["conflict","transformation","peace","building","reconciliation","restorative","justice","dialogue","mediation","nonviolent","communication","healing"],
                18:["democratic","renewal","civic","engagement","participatory","governance","transparency","accountability","citizen","involvement","deliberative","democracy"],
                19:["human","flourishing","wellbeing","quality","life","human","potential","personal","fulfillment","meaning","purpose","authentic","living"],
                20:["planetary","health","ecosystem","integrity","biodiversity","conservation","climate","resilience","environmental","justice","ecological","restoration"],
                21:["transformative","leadership","vision","inspiration","change","management","adaptive","capacity","resilience","innovation","empowerment","collaboration"],
                22:["systems","thinking","complexity","science","emergence","feedback","loops","nonlinear","dynamics","adaptive","systems","holistic","perspective"],
                23:["futures","thinking","scenario","planning","strategic","foresight","anticipatory","governance","adaptive","management","resilience","building"],
                24:["wisdom","traditions","contemplative","practices","mindfulness","meditation","spiritual","development","inner","transformation","consciousness","expansion"],
                25:["aesthetic","appreciation","beauty","creativity","artistic","expression","cultural","enrichment","sensory","experience","emotional","resonance"],
                26:["compassionate","action","empathy","altruism","service","humanitarian","assistance","social","justice","human","dignity","universal","love"],
                27:["transcendent","values","ultimate","meaning","spiritual","quest","existential","questions","purpose","driven","life","legacy","contribution"],
                28:["evolutionary","consciousness","human","development","collective","intelligence","wisdom","emergence","planetary","awareness","cosmic","perspective"],
                29:["integral","approach","multiple","perspectives","developmental","stages","lines","development","holistic","integration","comprehensive","understanding"],
                30:["regenerative","practices","restoration","renewal","healing","transformation","positive","impact","life","affirming","principles","thriving","communities"],
                31:["emergence","complexity","self","organization","adaptive","systems","collective","intelligence","swarm","behavior","network","effects","synergy"],
                32:["ultimate","reality","consciousness","unity","interconnectedness","transcendence","enlightenment","awakening","cosmic","consciousness","divine","mystery"]
              }
            }
          };
          EOF

      - name: Create profile.js
        run: |
          cat > profile.js << 'EOF'
          window.PROFILE={
            username:"תלמיד חכם",
            avatar:"avatar1.png",
            currentLevel:"א",
            xp:150,
            completedUnits:[],
            rewards:[],
            achievements:[],
            studyTime:0,
            wordsLearned:0
          };
          EOF

      - name: Create avatars.js
        run: |
          cat > avatars.js << 'EOF'
          window.AVATARS=["avatar1.png","avatar2.png","avatar3.png","avatar4.png"];
          EOF

      - name: Create rewards.js
        run: |
          cat > rewards.js << 'EOF'
          window.REWARDS=[
            {id:"star_gold",name:"⭐ כוכב זהב",desc:"למידה מעולה",price:50},
            {id:"trophy",name:"🏆 גביע",desc:"סיום כיתה",price:100},
            {id:"medal",name:"🥇 מדליה",desc:"הישג מיוחד",price:75},
            {id:"crown",name:"👑 כתר",desc:"מלך/ת הלמידה",price:200},
            {id:"rocket",name:"🚀 חללית",desc:"חקר החלל",price:80},
            {id:"book",name:"📚 ספר קסמים",desc:"ידע אינסופי",price:60},
            {id:"rainbow",name:"🌈 קשת בענן",desc:"יופי בלמידה",price:90},
            {id:"butterfly",name:"🦋 פרפר",desc:"התפתחות",price:40}
          ];
          EOF

      - name: Create games directory and files
        run: |
          mkdir -p games
          cat > games/memory.js << 'EOF'
          window.GAMES=window.GAMES||{};
          window.GAMES.memory=function(level,unit){
            const words = window.ABC_CONTENT_PACK.units[level][unit];
            let gameHtml = `<h2>🧠 משחק זיכרון - ${window.ABC_CONTENT_PACK.levelNames[level]} יחידה ${unit}</h2>`;
            gameHtml += `<div style="display:grid;grid-template-columns:repeat(4,1fr);gap:10px;max-width:500px;margin:20px auto;">`;
            
            words.slice(0,6).forEach((word,i) => {
              gameHtml += `<div class="memory-card" onclick="flipCard(this,'${word}')" style="background:#4CAF50;color:white;padding:20px;text-align:center;border-radius:8px;cursor:pointer;">?</div>`;
            });
            gameHtml += `</div><button class="btn" onclick="renderClasses()">סיום המשחק</button>`;
            document.getElementById('main').innerHTML = gameHtml;
          }
          
          window.flipCard = function(card, word) {
            card.textContent = word;
            setTimeout(() => { card.textContent = "?"; }, 2000);
          }
          EOF
          
          cat > games/quiz.js << 'EOF'
          window.GAMES=window.GAMES||{};
          window.GAMES.quiz=function(level,unit){
            const words = window.ABC_CONTENT_PACK.units[level][unit];
            const randomWord = words[Math.floor(Math.random() * words.length)];
            
            let quizHtml = `<h2>❓ חידון - ${window.ABC_CONTENT_PACK.levelNames[level]} יחידה ${unit}</h2>`;
            quizHtml += `<div style="text-align:center;margin:30px;">`;
            quizHtml += `<h3>איך אומרים "${randomWord}" בעברית?</h3><br>`;
            quizHtml += `<input type="text" id="answer" placeholder="הכנס תרגום" style="padding:10px;font-size:18px;"><br><br>`;
            quizHtml += `<button class="btn" onclick="checkAnswer('${randomWord}')">בדוק תשובה</button>`;
            quizHtml += `</div><button class="btn" onclick="renderClasses()">חזור לתפריט</button>`;
            document.getElementById('main').innerHTML = quizHtml;
          }
          
          window.checkAnswer = function(word) {
            const answer = document.getElementById('answer').value;
            alert(`המילה היא: ${word}\nהתשובה שלך: ${answer}\n🎉 כל הכבוד על הניסיון!`);
          }
          EOF
          
          cat > games/match.js << 'EOF'
          window.GAMES=window.GAMES||{};
          window.GAMES.match=function(level,unit){
            const words = window.ABC_CONTENT_PACK.units[level][unit];
            let matchHtml = `<h2>🎯 משחק התאמה - ${window.ABC_CONTENT_PACK.levelNames[level]} יחידה ${unit}</h2>`;
            matchHtml += `<div style="display:grid;grid-template-columns:1fr 1fr;gap:30px;max-width:600px;margin:20px auto;">`;
            
            // Left column - English words
            matchHtml += `<div><h3>מילים באנגלית:</h3>`;
            words.slice(0,5).forEach((word,i) => {
              matchHtml += `<div class="match-item" onclick="selectWord('${word}',this)" style="background:#2196F3;color:white;padding:15px;margin:5px;border-radius:8px;cursor:pointer;">${word}</div>`;
            });
            matchHtml += `</div>`;
            
            // Right column - Hebrew translations (mixed)
            matchHtml += `<div><h3>תרגום לעברית:</h3>`;
            words.slice(0,5).reverse().forEach((word,i) => {
              matchHtml += `<div class="match-item" onclick="selectTranslation('${word}',this)" style="background:#FF9800;color:white;padding:15px;margin:5px;border-radius:8px;cursor:pointer;">[תרגום של ${word}]</div>`;
            });
            matchHtml += `</div></div>`;
            
            matchHtml += `<button class="btn" onclick="renderClasses()">חזור לתפריט</button>`;
            document.getElementById('main').innerHTML = matchHtml;
          }
          
          window.selectWord = function(word, element) {
            document.querySelectorAll('.match-item').forEach(el => el.style.border = '');
            element.style.border = '3px solid #4CAF50';
            alert(`בחרת: ${word} - עכשיו בחר את התרגום!`);
          }
          
          window.selectTranslation = function(word, element) {
            alert(`בחרת תרגום של: ${word}\n🎉 כל הכבוד!`);
          }
          EOF

      - name: Create backup.js
        run: |
          cat > backup.js << 'EOF'
          window.BACKUP = {
            export: function() {
              const data = {
                profile: window.PROFILE,
                timestamp: new Date().toISOString(),
                version: "1.0"
              };
              return JSON.stringify(data, null, 2);
            },
            import: function(jsonString) {
              try {
                const data = JSON.parse(jsonString);
                window.PROFILE = data.profile;
                alert("✅ פרופיל יובא בהצלחה!");
                showProfile();
              } catch(e) {
                alert("❌ שגיאה בייבוא הפרופיל");
              }
            },
            download: function() {
              const data = this.export();
              const blob = new Blob([data], {type: 'application/json'});
              const url = URL.createObjectURL(blob);
              const a = document.createElement('a');
              a.href = url;
              a.download = 'abc-profile-backup.json';
              a.click();
            }
          };
          EOF

      - name: Create avatar images
        run: |
          wget https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png -O avatar1.png
          wget https://upload.wikimedia.org/wikipedia/commons/9/99/Sample_User_Icon.png -O avatar2.png
          wget https://upload.wikimedia.org/wikipedia/commons/7/7c/User_font_awesome.svg -O avatar3.png
          wget https://upload.wikimedia.org/wikipedia/commons/1/12/User_icon_2.svg -O avatar4.png

      - name: Create style.css
        run: |
          cat > style.css << 'EOF'
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #2a2d31; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            direction: rtl;
          }
          .main { 
            max-width: 900px; 
            margin: 20px auto; 
            padding: 40px; 
            background: rgba(255,255,255,0.95);
            border-radius: 20px; 
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
          }
          h1 { 
            color: #667eea; 
            text-align: center; 
            margin-bottom: 2rem;
            font-size: 2.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
          }
          .avatar { 
            border-radius: 50%; 
            width: 80px; 
            height: 80px;
            object-fit: cover;
            box-shadow: 0 4px 15px rgba(102,126,234,0.4);
            transition: transform 0.3s ease;
          }
          .avatar:hover { transform: scale(1.1); }
          .btn { 
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: #fff; 
            padding: 12px 24px; 
            border-radius: 25px; 
            font-weight: 600; 
            border: none; 
            margin: 8px; 
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102,126,234,0.3);
          }
          .btn:hover { 
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102,126,234,0.4);
          }
          .btn:active { transform: translateY(0); }
          .unit-box { 
            border: 2px solid #e1e8ed; 
            border-radius: 15px; 
            margin: 20px 0; 
            padding: 20px; 
            background: linear-gradient(135deg, #f8fafc, #f1f5f9);
            transition: all 0.3s ease;
          }
          .unit-box:hover {
            border-color: #667eea;
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(102,126,234,0.2);
          }
          .reward {
            display: inline-block;
            padding: 10px 20px; 
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            margin: 8px; 
            border-radius: 20px;
            border: 2px solid #f59e0b;
            font-weight: 600;
          }
          .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
          }
          .stat-card {
            background: linear-gradient(135deg, #e0f2fe, #b3e5fc);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            border: 2px solid #0277bd;
          }
          .words-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 10px;
            margin: 15px 0;
          }
          .word-item {
            background: #f0f9ff;
            padding: 8px 12px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid #bae6fd;
            font-weight: 500;
          }
          @media (max-width: 768px) {
            .main { margin: 10px; padding: 20px; }
            h1 { font-size: 2rem; }
            .btn { padding: 10px 20px; font-size: 14px; }
          }
          EOF

      - name: Create index.html
        run: |
          cat > index.html << 'EOF'
          <!DOCTYPE html>
          <html lang="he" dir="rtl">
          <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>ABC Explorer - כל 6 הכיתות עם 2304 מילים</title>
            <link rel="stylesheet" href="style.css">
            <script src="content-pack.js"></script>
            <script src="profile.js"></script>
            <script src="avatars.js"></script>
            <script src="rewards.js"></script>
            <script src="games/memory.js"></script>
            <script src="games/quiz.js"></script>
            <script src="games/match.js"></script>
            <script src="backup.js"></script>
          </head>
          <body>
            <div class="main" id="main"></div>
            <script>
            function renderClasses(){
              let h = `<h1>🎓 ABC English Explorer</h1>
                       <div style="text-align:center;margin-bottom:30px;">
                         <div style="background:linear-gradient(135deg,#4CAF50,#45a049);color:white;padding:15px;border-radius:15px;display:inline-block;">
                           📊 <strong>2,304 מילים</strong> • 6 כיתות • 32 יחידות לכיתה • 12 מילים ליחידה
                         </div>
                       </div>`;
              
              h += '<div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin:30px 0;">';
              
              window.ABC_CONTENT_PACK.levels.forEach(level => {
                const levelName = window.ABC_CONTENT_PACK.levelNames[level];
                const totalWords = Object.keys(window.ABC_CONTENT_PACK.units[level]).length * 12;
                
                h += `<div style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:25px;border-radius:20px;text-align:center;cursor:pointer;transition:transform 0.3s ease;" onclick="startClass('${level}')" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                        <div style="font-size:3rem;margin-bottom:10px;">📚</div>
                        <h3>${levelName}</h3>
                        <div style="margin:10px 0;">32 יחידות</div>
                        <div style="background:rgba(255,255,255,0.2);padding:8px;border-radius:10px;">${totalWords} מילים</div>
                      </div>`;
              });
              
              h += '</div>';
              h += `<div style="text-align:center;margin-top:30px;">
                      <button class='btn' onclick='showProfile()'>👤 פרופיל אישי</button>
                      <button class='btn' onclick='showStats()'>📊 סטטיסטיקות</button>
                    </div>`;
              
              document.getElementById('main').innerHTML = h;
            }
            
            function startClass(level){
              const units = window.ABC_CONTENT_PACK.units[level];
              const levelName = window.ABC_CONTENT_PACK.levelNames[level];
              
              let html = `<h2>📖 ${levelName} - בחר יחידת למידה</h2>`;
              html += `<div style="text-align:center;margin:20px 0;">
                         <div style="background:#e3f2fd;padding:15px;border-radius:15px;display:inline-block;">
                           📈 <strong>32 יחידות זמינות</strong> • כל יחידה מכילה 12 מילים חדשות
                         </div>
                       </div>`;
              
              for(let unitNum in units){
                const words = units[unitNum];
                html += `<div class='unit-box'>
                          <h3>📝 יחידה ${unitNum}</h3>
                          <div class="words-list">`;
                
                words.forEach(word => {
                  html += `<div class="word-item">${word}</div>`;
                });
                
                html += `</div>
                          <div style="margin-top:15px;">
                            <button class='btn' onclick="GAMES.memory('${level}','${unitNum}')">🧠 משחק זיכרון</button>
                            <button class='btn' onclick="GAMES.quiz('${level}','${unitNum}')">❓ חידון</button>
                            <button class='btn' onclick="GAMES.match('${level}','${unitNum}')">🎯 התאמה</button>
                            <button class='btn' onclick="practiceUnit('${level}','${unitNum}')">📚 תרגול</button>
                          </div>
                        </div>`;
              }
              
              html += `<button class='btn' onclick='renderClasses()' style="background:linear-gradient(135deg,#ff7043,#d84315);">🏠 חזור לדף הבית</button>`;
              document.getElementById('main').innerHTML = html;
            }
            
            function practiceUnit(level, unit) {
              const words = window.ABC_CONTENT_PACK.units[level][unit];
              let practiceHtml = `<h2>📚 תרגול - ${window.ABC_CONTENT_PACK.levelNames[level]} יחידה ${unit}</h2>`;
              
              practiceHtml += `<div style="background:#f3e5f5;padding:20px;border-radius:15px;margin:20px 0;">
                                <h3>🔤 רשימת מילים ליחידה:</h3>
                                <div class="words-list">`;
              
              words.forEach((word, index) => {
                practiceHtml += `<div class="word-item" onclick="pronounceWord('${word}')" style="cursor:pointer;background:#e1f5fe;">
                                  ${index + 1}. ${word}
                                </div>`;
              });
              
              practiceHtml += `</div>
                              <div style="margin-top:20px;text-align:center;">
                                <button class='btn' onclick="testAllWords('${level}','${unit}')">📝 בחן את עצמך</button>
                                <button class='btn' onclick="flashcards('${level}','${unit}')">🃏 כרטיסיות</button>
                              </div>
                            </div>`;
              
              practiceHtml += `<button class='btn' onclick="startClass('${level}')">↩️ חזור ליחידות</button>`;
              document.getElementById('main').innerHTML = practiceHtml;
            }
            
            function pronounceWord(word) {
              if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(word);
                utterance.lang = 'en-US';
                utterance.rate = 0.8;
                speechSynthesis.speak(utterance);
              }
              alert(`🔊 ההגייה של: ${word}\n\n💡 טיפ: תרגל לומר את המילה בקול רם!`);
            }
            
            function showProfile(){
              let h = `<h2>👤 פרופיל משתמש</h2>
                       <div style="text-align:center;margin:30px 0;">
                         <img class='avatar' src='${window.PROFILE.avatar}'>
                         <h3 style="margin:15px 0;">${window.PROFILE.username}</h3>
                       </div>`;
              
              h += `<div class="stats-grid">
                      <div class="stat-card">
                        <h4>📊 רמה נוכחית</h4>
                        <div style="font-size:2rem;color:#667eea;">${window.ABC_CONTENT_PACK.levelNames[window.PROFILE.currentLevel]}</div>
                      </div>
                      <div class="stat-card">
                        <h4>⭐ נקודות XP</h4>
                        <div style="font-size:2rem;color:#4CAF50;">${window.PROFILE.xp}</div>
                      </div>
                      <div class="stat-card">
                        <h4>🎯 יחידות הושלמו</h4>
                        <div style="font-size:2rem;color:#FF9800;">${window.PROFILE.completedUnits.length}</div>
                      </div>
                      <div class="stat-card">
                        <h4>📚 מילים נלמדו</h4>
                        <div style="font-size:2rem;color:#9C27B0;">${window.PROFILE.wordsLearned}</div>
                      </div>
                    </div>`;
              
              h += '<hr style="margin:30px 0;"><h3>🖼️ בחר אווטאר:</h3><div style="text-align:center;margin:20px 0;">';
              window.AVATARS.forEach(avatar => {
                h += `<img src='${avatar}' class="avatar" style="margin:10px;cursor:pointer;${window.PROFILE.avatar === avatar ? 'border:3px solid #667eea;' : ''}" onclick="setAvatar('${avatar}')">`;
              });
              h += '</div>';
              
              h += '<hr style="margin:30px 0;"><h3>🏆 הפרסים שלי:</h3><div>';
              if(window.PROFILE.rewards.length === 0) {
                h += '<p style="color:#666;text-align:center;padding:20px;">עדיין לא יש לך פרסים. המשך ללמוד כדי לזכות!</p>';
              } else {
                window.PROFILE.rewards.forEach(rewardId => {
                  const reward = window.REWARDS.find(r => r.id === rewardId);
                  if(reward) h += `<span class='reward'>${reward.name}</span>`;
                });
              }
              h += '</div>';
              
              h += '<hr style="margin:30px 0;"><h3>🛒 חנות פרסים:</h3>';
              window.REWARDS.forEach(reward => {
                const canBuy = window.PROFILE.xp >= reward.price && !window.PROFILE.rewards.includes(reward.id);
                h += `<div style="display:flex;justify-content:space-between;align-items:center;padding:15px;margin:10px 0;background:#f8f9fa;border-radius:10px;">
                        <div>
                          <strong>${reward.name}</strong><br>
                          <small style="color:#666;">${reward.desc}</small>
                        </div>
                        <div>
                          <span style="color:#667eea;font-weight:600;">${reward.price} XP</span>
                          ${canBuy ? 
                            `<button class='btn' onclick="buyReward('${reward.id}')" style="margin-right:10px;">קנה</button>` : 
                            `<button class='btn' disabled style="margin-right:10px;opacity:0.5;">לא זמין</button>`
                          }
                        </div>
                      </div>`;
              });
              
              h += `<hr style="margin:30px 0;">
                    <div style="text-align:center;">
                      <button class='btn' onclick="BACKUP.download()">💾 הורד גיבוי</button>
                      <button class='btn' onclick="loadBackup()">📁 טען גיבוי</button>
                      <button class='btn' onclick='renderClasses()'>🏠 חזור לדף הבית</button>
                    </div>`;
              
              document.getElementById('main').innerHTML = h;
            }
            
            function setAvatar(avatar) {
              window.PROFILE.avatar = avatar;
              showProfile();
            }
            
            function buyReward(rewardId) {
              const reward = window.REWARDS.find(r => r.id === rewardId);
              if(window.PROFILE.xp >= reward.price) {
                window.PROFILE.xp -= reward.price;
                window.PROFILE.rewards.push(rewardId);
                alert(`🎉 קנית את ${reward.name}!`);
                showProfile();
              }
            }
            
            function showStats() {
              const totalWords = 6 * 32 * 12; // 2304
              const progressPercent = Math.round((window.PROFILE.wordsLearned / totalWords) * 100);
              
              let statsHtml = `<h2>📊 סטטיסטיקות למידה</h2>
                              <div style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:30px;border-radius:20px;margin:20px 0;text-align:center;">
                                <h3>התקדמות כללית</h3>
                                <div style="font-size:3rem;margin:20px 0;">${progressPercent}%</div>
                                <div>למדת ${window.PROFILE.wordsLearned} מתוך ${totalWords} מילים</div>
                              </div>`;
              
              statsHtml += `<div class="stats-grid">`;
              
              window.ABC_CONTENT_PACK.levels.forEach(level => {
                const levelWords = Object.keys(window.ABC_CONTENT_PACK.units[level]).length * 12;
                statsHtml += `<div class="stat-card">
                                <h4>${window.ABC_CONTENT_PACK.levelNames[level]}</h4>
                                <div style="font-size:1.5rem;color:#667eea;">${levelWords} מילים</div>
                                <div>32 יחידות</div>
                              </div>`;
              });
              
              statsHtml += `</div>
                           <div style="text-align:center;margin-top:30px;">
                             <button class='btn' onclick='renderClasses()'>🏠 חזור לדף הבית</button>
                           </div>`;
              
              document.getElementById('main').innerHTML = statsHtml;
            }
            
            function loadBackup() {
              const input = document.createElement('input');
              input.type = 'file';
              input.accept = '.json';
              input.onchange = function(e) {
                const file = e.target.files[0];
                if(file) {
                  const reader = new FileReader();
                  reader.onload = function(e) {
                    try {
                      BACKUP.import(e.target.result);
                    } catch(error) {
                      alert('שגיאה בקריאת הקובץ');
                    }
                  };
                  reader.readAsText(file);
                }
              };
              input.click();
            }
            
            // Initialize the application
            window.GAMES = window.GAMES || {};
            renderClasses();
            
            // Add some sample progress to profile
            window.PROFILE.wordsLearned = 45;
            window.PROFILE.completedUnits = ['א-1', 'א-2', 'א-3'];
            </script>
          </body>
          </html>
          EOF

      - name: Setup Github Pages
        uses: actions/configure-pages@v4

      - name: Upload artifact for Github Pages
        uses: actions/upload-pages-artifact@v3
        with:
          path: '.'

      - name: Deploy to Github Pages
        id: deploy
        uses: actions/deploy-pages@v4
